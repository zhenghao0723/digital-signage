(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5385:function(e,t,a){e.exports=a(5580)},5390:function(e,t,a){},5391:function(e,t,a){},5580:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(33),r=a.n(i),o=(a(5390),a(12)),c=a(13),d=a(15),s=a(14),u=a(16),m=(a(5391),a(65)),p=a(40),h=a(183),f=a.n(h),g=a(38),E=a.n(g),b=a(50),v=a(63),y=a(7),C=a.n(y),k=C.a.initializeApp({apiKey:"AIzaSyCT4IE0kDuDZ3X9bHsvvU--xUO-hG93zU0",authDomain:"pgkmedia-607c5.firebaseapp.com",databaseURL:"https://pgkmedia-607c5.firebaseio.com",projectId:"pgkmedia-607c5",storageBucket:"pgkmedia-607c5.appspot.com",messagingSenderId:"518306198801"}),S=a(168),O=a.n(S),w=a(26),F=a(37),j=a.n(F),P=a(17),D=a.n(P),x=a(25),N=a.n(x),A=a(42),T=a.n(A),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).onLoad=function(){console.log("capcha successfully loaded")},a.onVerify=function(){a.setState({isVerified:!0})},a.onExpire=function(){a.setState({isVerified:!1})},a.handleSignIn=function(){var e=Object(b.a)(E.a.mark(function e(t){var n,l,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.state.isVerified){e.next=13;break}return n=a.state,l=n.email,i=n.password,e.prev=3,e.next=6,k.auth().signInWithEmailAndPassword(l,i);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),alert(e.t0);case 11:e.next=14;break;case 13:alert("Please verify that you are a human!");case 14:case"end":return e.stop()}},e,null,[[3,8]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState({email:e.target.value})},a.passwordhandleChange=function(e){a.setState({password:e.target.value})},a.captcha=null,a.state={isVerified:!1,email:"",password:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(T.a,{className:e.root,elevation:1},l.a.createElement(N.a,{variant:"h5",className:e.title},"Login"),l.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.handleSignIn},l.a.createElement(j.a,{fullWidth:!0,autoFocus:!0,margin:"dense",id:"standard-name",label:"Username",type:"email",className:e.textField,value:this.state.email,onChange:this.handleChange}),l.a.createElement(j.a,{fullWidth:!0,id:"standard-password-input",label:"Password",className:e.textField,type:"password",value:this.state.password,onChange:this.passwordhandleChange,autoComplete:"current-password",margin:"dense"}),l.a.createElement("div",{style:{marginTop:20}},l.a.createElement(O.a,{sitekey:"6Ld1gZ8UAAAAAAav2MZF1t6n77Lw4oDj3HqQYQuh",onVerify:this.onVerify,onExpire:this.onExpire})),l.a.createElement("div",{style:{marginTop:20}},l.a.createElement(D.a,{variant:"outlined",type:"submit",disabled:!this.state.isVerified},"Log in"),l.a.createElement(D.a,{style:{marginLeft:10},variant:"outlined",type:"submit",component:p.b,to:"/digital-signage/register"},"Register")),l.a.createElement(N.a,{style:{marginTop:20},variant:"caption",className:e.title,component:p.b,to:"/digital-signage/forgotpassword"},"Forgot Password"))))}}]),t}(n.Component),R=Object(w.withStyles)(function(e){return{root:Object(v.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:300,backgroundColor:"#F4F4F4"}),textField:{marginTop:10},title:{fontWeight:"bold"}}})(B),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).handleSignUp=function(){var e=Object(b.a)(E.a.mark(function e(t){var n,l,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,l=n.email,i=n.password,e.prev=2,e.next=5,k.auth().createUserWithEmailAndPassword(l,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState({email:e.target.value})},a.passwordhandleChange=function(e){a.setState({password:e.target.value})},a.state={email:"",password:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(T.a,{className:e.root,elevation:1},l.a.createElement(N.a,{variant:"h5"},"Sign Up"),l.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.handleSignUp},l.a.createElement(j.a,{fullWidth:!0,autoFocus:!0,margin:"dense",id:"standard-name",label:"Username",className:e.textField,value:this.state.email,onChange:this.handleChange,type:"email"}),l.a.createElement(j.a,{fullWidth:!0,id:"standard-password-input",label:"Password",className:e.textField,type:"password",value:this.state.password,onChange:this.passwordhandleChange,autoComplete:"current-password",margin:"dense"}),l.a.createElement(D.a,{style:{marginTop:20},variant:"outlined",type:"submit"},"Sign Up"),l.a.createElement(N.a,{style:{marginTop:20},variant:"caption",className:e.title,component:p.b,to:"/digital-signage"},"Back to Login Page"))))}}]),t}(n.Component),I=Object(w.withStyles)(function(e){return{root:Object(v.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:300,backgroundColor:"#F4F4F4"}),textField:{marginTop:10}}})(U),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",redirect:!1},a.handleForgotPassword=function(){var e=Object(b.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.email,e.prev=2,e.next=5,k.auth().sendPasswordResetEmail(n).then(function(){a.setState({redirect:!0})});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState({email:e.target.value})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.state.redirect?l.a.createElement(m.a,{to:"/digital-signage"}):l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(T.a,{className:e.root,elevation:1},l.a.createElement(N.a,{variant:"h5",className:e.title},"Forgot Password"),l.a.createElement("form",{onSubmit:this.handleForgotPassword},l.a.createElement(j.a,{fullWidth:!0,autoFocus:!0,margin:"dense",id:"standard-name",label:"Email Address",type:"email",className:e.textField,value:this.state.email,onChange:this.handleChange}),l.a.createElement(D.a,{style:{marginTop:20},variant:"outlined",type:"submit",disabled:""===this.state.email},"Send"),l.a.createElement(N.a,{style:{marginTop:20},variant:"caption",className:e.title,component:p.b,to:"/digital-signage"},"Back to Login Page"))))}}]),t}(n.Component),z=Object(w.withStyles)(function(e){return{root:Object(v.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:300,backgroundColor:"#F4F4F4"}),textField:{marginTop:10},title:{fontWeight:"bold"}}})(M),W=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Dashboard"))}}]),t}(n.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Stations"))}}]),t}(n.Component),_=a(171),H=a.n(_),V=a(172),q=a.n(V),Y=a(173),G=a.n(Y),K=Object(w.withStyles)({root:{border:"1px solid rgba(0,0,0,.125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}},expanded:{margin:"auto"}})(H.a),X=Object(w.withStyles)({root:{backgroundColor:"rgba(0,0,0,.03)",borderBottom:"1px solid rgba(0,0,0,.125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(function(e){return l.a.createElement(q.a,e)});X.muiName="ExpansionPanelSummary";var Z=Object(w.withStyles)(function(e){return{root:{padding:2*e.spacing.unit}}})(G.a),$=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={expanded:"panel0"},a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.expanded;return l.a.createElement("div",null,this.props.panel.map(function(a,n){return l.a.createElement(K,{key:n,square:!0,expanded:t==="panel"+n,onChange:e.handleChange("panel"+n)},l.a.createElement(X,null,l.a.createElement(N.a,null,a.name)),l.a.createElement(Z,{style:{padding:0}},a.content))}))}}]),t}(l.a.Component),J=a(120),Q=a(174),ee=a(184),te=a(176),ae=a.n(te),ne=a(27);function le(){var e=Object(Q.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  border-width: 2px;\n  border-radius: 2px;\n  border-color: ",";\n  border-style: dashed;\n  background-color: #fafafa;\n  color: #bdbdbd;\n  outline: none;\n  transition: border .24s ease-in-out;\n"]);return le=function(){return e},e}var ie=a(177).a.div(le(),function(e){return re(e)}),re=function(e){return e.isDragAccept?"#00e676":e.isDragReject?"#ff1744":e.isDragActive?"#2196f3":"#eeeeee"},oe={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box",justifyContent:"center"},ce={display:"flex",minWidth:0,overflow:"hidden",alignItems:"center"},de=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={isUploading:!1,uploadProgress:0,filenames:[],downloadURLs:[],files:[]},a.handleUploadStart=function(){a.setState({isUploading:!0,uploadProgress:0})},a.handleUploadProgress=function(e){a.setState({uploadProgress:e})},a.handleUploadError=function(e){a.setState({isUploading:!1}),alert(e)},a.handleUploadSuccess=function(){var e=Object(b.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.storage().ref("media").child(t).getDownloadURL();case 2:return n=e.sent,e.next=5,C.a.storage().ref("media").child(t);case 5:e.sent.getMetadata().then(function(e){var t={name:e.name,imageUrl:n,size:e.size,created:C.a.database.ServerValue.TIMESTAMP,type:e.contentType,fullPath:e.fullPath,folder:"default"},a={};a["/media/"+C.a.database().ref().child("media").push().key]=t,C.a.database().ref().update(a)}).catch(function(e){}),a.setState(function(e){return{filenames:[].concat(Object(J.a)(e.filenames),[t]),downloadURLs:[].concat(Object(J.a)(e.downloadURLs),[n]),uploadProgress:100,isUploading:!1,files:[]}});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.customOnChangeHandler=function(e){var t=e.target.files,n=[];Array.from(t).forEach(function(e){return n.push(e)}),a.setState({files:n})},a.startUploadManually=function(){a.setState({isUploading:!0});var e=a.state.files;Array.from(e).forEach(function(e){a.fileUploader.startUpload(e)})},a.onClearFileList=function(){a.setState({files:[]})},a.onDrop=function(e){a.setState({files:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{marginBottom:20}},l.a.createElement(ae.a,{accept:"image/png, image/jpeg, video/mp4",name:"image-uploader-multiple",randomizeFilename:!0,storageRef:C.a.storage().ref("media"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleUploadProgress,onChange:this.customOnChangeHandler,ref:function(t){e.fileUploader=t},multiple:!0,hidden:!0}),l.a.createElement(ee.a,{disabled:this.state.isUploading,multiple:!0,onDrop:this.onDrop,accept:"image/png, image/jpeg, video/mp4",minSize:0,maxSize:20428800},function(t){var a=t.getRootProps,n=t.getInputProps,i=t.isDragActive,r=t.isDragAccept,o=t.isDragReject,c=t.rejectedFiles;return l.a.createElement("div",null,l.a.createElement(ie,a({isDragActive:i,isDragAccept:r,isDragReject:o,rejectedFiles:c}),l.a.createElement("input",n()),i?"Drop the files here":"Drag and drop some files here, or click to select files"),l.a.createElement("aside",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16}},e.state.files.map(function(e){return"video/mp4"===e.type?l.a.createElement("div",{style:oe,key:e.name},l.a.createElement("div",{style:ce},l.a.createElement(ne.f,{style:{fontSize:50,color:"#b4b4b4"}}))):l.a.createElement("div",{style:oe,key:e.name},l.a.createElement("div",{style:ce},l.a.createElement("img",{alt:e.name,src:URL.createObjectURL(e),style:{display:"block",width:"auto",height:"100%"}})))})),l.a.createElement("div",{style:{display:"inline-flex"}},l.a.createElement(D.a,{onClick:e.startUploadManually,disabled:!(e.state.files.length>0&&!e.state.isUploading),variant:"outlined",color:"primary"},"Upload"),l.a.createElement(D.a,{onClick:e.onClearFileList,disabled:!(e.state.files.length>0&&!e.state.isUploading),variant:"outlined",color:"primary",style:{marginLeft:8}},"Clear"),c.length>0&&l.a.createElement("div",{style:{marginTop:8,color:"#fa3b56",fontSize:12,marginLeft:8,alignItems:"bottom"}},c.length," files has been rejected.")))}))}}]),t}(n.Component),se=a(45),ue=a(6),me=a.n(ue),pe=a(77),he=a.n(pe),fe=a(78),ge=a.n(fe),Ee=a(23),be=a.n(Ee),ve=a(73),ye=a.n(ve),Ce=a(79),ke=a.n(Ce),Se=a(41),Oe=a.n(Se),we=a(74),Fe=a.n(we),je=a(54),Pe=a.n(je),De=a(57),xe=a.n(De),Ne=a(24),Ae=a.n(Ne),Te=a(35),Be=a.n(Te),Re=a(43),Ue=a(34),Ie=a.n(Ue),Me=a(52),ze=a.n(Me),We=a(72),Le=a.n(We),_e=a(75),He=a.n(_e),Ve=a(76),qe=a.n(Ve),Ye=a(30),Ge=a.n(Ye),Ke=a(58),Xe=a.n(Ke),Ze=a(36),$e=a.n(Ze),Je=a(53),Qe=a.n(Je),et=a(56),tt=a.n(et),at=a(51),nt=a.n(at),lt=a(55),it=a.n(lt),rt=a(39),ot=a.n(rt);function ct(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var dt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,i=t.orderBy,r=t.numSelected,o=t.rowCount,c=t.rows;return l.a.createElement(ye.a,null,l.a.createElement(Oe.a,null,l.a.createElement(be.a,{padding:"checkbox"},l.a.createElement(xe.a,{indeterminate:r>0&&r<o,checked:r===o,onChange:a})),c.map(function(t){return l.a.createElement(be.a,{key:t.id,align:t.numeric?"right":"left",padding:t.disablePadding?"none":"default",sortDirection:i===t.id&&n},l.a.createElement(Be.a,{title:"Sort",disableTouchListener:!t.sortable,disableFocusListener:!t.sortable,disableHoverListener:!t.sortable,placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},l.a.createElement(Fe.a,{active:!(i!==t.id||!t.sortable),direction:n,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(l.a.Component),st=function(e){var t=e.numSelected,a=e.classes,n=e.onMoveAllClick,i=e.onDeleteAllClick,r=e.movefile;return l.a.createElement(Pe.a,{className:me()(a.root,Object(se.a)({},a.highlight,t>0))},l.a.createElement("div",{className:a.title},t>0?l.a.createElement(N.a,{color:"inherit",variant:"subtitle1"},t," selected"):l.a.createElement(N.a,{variant:"h6",id:"tableTitle"})),l.a.createElement("div",{className:a.spacer}),l.a.createElement("div",{className:a.actions},t>0?r?l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement(Be.a,{title:"Move"},l.a.createElement(Ae.a,{"aria-label":"Move",onClick:n},l.a.createElement(ne.k,null))),l.a.createElement(Be.a,{title:"Delete"},l.a.createElement(Ae.a,{"aria-label":"Delete",onClick:i},l.a.createElement(Ie.a,null)))):l.a.createElement(Be.a,{title:"Delete"},l.a.createElement(Ae.a,{"aria-label":"Delete",onClick:i},l.a.createElement(Ie.a,null))):l.a.createElement("div",null)))};st=Object(w.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Re.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(st);var ut=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={order:"desc",orderBy:a.props.orderBy,selected:[],selectedId:"",page:0,rowsPerPage:5,openDialog:!1,dialogTitle:"No Title",dialogUrl:null,dialogType:null,dialogOption:"",selectedFileName:""},a.handleRequestSort=function(e,t){var n=t,l="desc";a.state.orderBy===t&&"desc"===a.state.order&&(l="asc"),a.setState({order:l,orderBy:n})},a.handleSelectAllClick=function(e){e.target.checked?a.setState({selected:a.props.data.map(function(e){return e.id})}):a.setState({selected:[]})},a.handleClick=function(e,t){var n=a.state.selected,l=n.indexOf(t),i=[];-1===l?i=i.concat(n,t):0===l?i=i.concat(n.slice(1)):l===n.length-1?i=i.concat(n.slice(0,-1)):l>0&&(i=i.concat(n.slice(0,l),n.slice(l+1))),a.setState({selected:i})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.bytesToSize=function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},a.onPreviewClick=function(e,t,n){a.setState({openDialog:!0,dialogTitle:t,dialogUrl:n,dialogType:e,dialogOption:"preview"})},a.onEditClick=function(e,t){a.setState({openDialog:!0,dialogTitle:"Edit file",selectedId:e,dialogOption:"edit",selectedFileName:t,selectedFolder:"default"})},a.onDeleteClick=function(e){a.setState({openDialog:!0,dialogTitle:"Remove file",selectedId:e,dialogOption:"delete"})},a.onDeleteAllClick=function(){a.setState({openDialog:!0,dialogOption:"deleteAll",dialogTitle:"Remove file"})},a.onMoveAllClick=function(){a.setState({openDialog:!0,dialogOption:"moveAll",dialogTitle:"Move file",selectedFolder:"default"})},a.handleClose=function(){a.setState({openDialog:!1})},a._handleEditFileNameChange=function(e){a.setState({selectedFileName:e.target.value})},a.handleSelectionChange=function(e){a.setState({selectedFolder:e.target.value})},a.handleEditFile=function(){C.a.database().ref().child("/media/"+a.state.selectedId).update({name:a.state.selectedFileName,folder:a.state.selectedFolder}),"default"!==a.state.selectedFolder&&C.a.database().ref().child("/media_folder/"+a.state.selectedFolder).child("total").transaction(function(e){return e+1}),a.setState({openDialog:!1,selectedFolder:"default",selectedFileName:"",selected:[]})},a.handleRemoveFile=function(){C.a.database().ref(a.props.dataName).child(a.state.selectedId).once("value",function(e){var t=e.val();C.a.database().ref(a.props.dataName).child(a.state.selectedId).remove().then(function(){C.a.storage().ref().child(t.fullPath).delete()})}),a.setState({openDialog:!1,selectedId:"",selected:[]})},a.handleRemoveAllFile=function(){a.state.selected.forEach(function(e){C.a.database().ref(a.props.dataName).child(e).once("value",function(t){var n=t.val();C.a.database().ref(a.props.dataName).child(e).remove().then(function(){C.a.storage().ref().child(n.fullPath).delete()})})}),a.setState({openDialog:!1,selected:[]})},a.handleMoveAllFile=function(){"default"!==a.state.selectedFolder&&a.state.selected.forEach(function(e){C.a.database().ref().child("/media/"+e).update({folder:a.state.selectedFolder}),C.a.database().ref().child("/media_folder/"+a.state.selectedFolder).child("total").transaction(function(e){return e+1})}),a.setState({openDialog:!1,selectedFolder:"default",selected:[]})},a.renderDialog=function(){return"preview"===a.state.dialogOption?l.a.createElement(Ge.a,null,"video/mp4"===a.state.dialogType?l.a.createElement("video",{style:{width:"100%"},autoPlay:!0,src:a.state.dialogUrl,type:"video/mp4"}):l.a.createElement("img",{style:{width:"100%"},src:a.state.dialogUrl})):"edit"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(j.a,{margin:"dense",id:"name",label:"File Name",fullWidth:!0,value:a.state.selectedFileName,onChange:a._handleEditFileNameChange}),l.a.createElement(Qe.a,{style:{marginTop:20},fullWidth:!0,variant:"outlined",noValidate:!0,autoComplete:"off"},l.a.createElement(tt.a,{ref:function(e){a.InputLabelRef=e},htmlFor:"outlined-age-simple"},"Folder"),l.a.createElement(nt.a,{value:a.state.selectedFolder,onChange:a.handleSelectionChange,input:l.a.createElement(it.a,{labelWidth:100,name:"folder",id:"outlined-age-simple"})},l.a.createElement(ot.a,{value:"default"},l.a.createElement("em",null,"Default")),a.props.folderCollection.map(function(e){return l.a.createElement(ot.a,{key:e.id,value:e.id},e.name)})))),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleEditFile,color:"primary"},"Submit"),l.a.createElement(D.a,{onClick:a.handleClose,color:"default"},"Cancel"))):"delete"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(Xe.a,{id:"alert-dialog-description"},"Are you sure you want to permanently delete these file?")),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleRemoveFile,color:"default"},"Yes"),l.a.createElement(D.a,{color:"primary",onClick:a.handleClose},"No"))):"deleteAll"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(Xe.a,{id:"alert-dialog-description"},"Are you sure you want to permanently delete these file?")),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleRemoveAllFile,color:"default"},"Yes"),l.a.createElement(D.a,{color:"primary",onClick:a.handleClose},"No"))):"moveAll"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,{style:{width:200}},l.a.createElement(Qe.a,{style:{marginTop:20},fullWidth:!0,variant:"outlined",noValidate:!0,autoComplete:"off"},l.a.createElement(tt.a,{ref:function(e){a.InputLabelRef=e},htmlFor:"outlined-age-simple"},"Folder"),l.a.createElement(nt.a,{value:a.state.selectedFolder,onChange:a.handleSelectionChange,input:l.a.createElement(it.a,{labelWidth:100,name:"folder",id:"outlined-age-simple"})},l.a.createElement(ot.a,{value:"default"},l.a.createElement("em",null,"Default")),a.props.folderCollection.map(function(e){return l.a.createElement(ot.a,{key:e.id,value:e.id},e.name)})))),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleMoveAllFile,color:"primary"},"Yes"),l.a.createElement(D.a,{onClick:a.handleClose,color:"primary",autoFocus:!0},"No"))):void 0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.rows,i=t.data,r=this.state,o=r.order,c=r.orderBy,d=r.selected,s=r.rowsPerPage,u=r.page,m=s-Math.min(s,i.length-u*s);return l.a.createElement("div",{className:a.root},l.a.createElement(He.a,{onClose:this.handleClose,"aria-labelledby":"customized-dialog-title",open:this.state.openDialog},l.a.createElement(qe.a,{id:"customized-dialog-title",onClose:this.handleClose},this.state.dialogTitle),this.renderDialog()),l.a.createElement(st,{numSelected:d.length,onDeleteAllClick:this.onDeleteAllClick,onMoveAllClick:this.onMoveAllClick,movefile:this.props.movefile}),l.a.createElement("div",{className:a.tableWrapper},l.a.createElement(he.a,{className:a.table,"aria-labelledby":"tableTitle"},l.a.createElement(dt,{numSelected:d.length,order:o,orderBy:c,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:i.length,rows:n}),l.a.createElement(ge.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(i,function(e,t){return"desc"===e?function(e,a){return ct(e,a,t)}:function(e,a){return-ct(e,a,t)}}(o,c)).slice(u*s,u*s+s).map(function(t){var i=e.isSelected(t.id);return l.a.createElement(Oe.a,{hover:!0,role:"checkbox","aria-checked":i,tabIndex:-1,key:t.id,selected:i},l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},padding:"checkbox"},l.a.createElement(xe.a,{checked:i})),n.map(function(n){return n.thumbnail?l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},"video/mp4"===t.type?l.a.createElement("div",{style:{height:50}},l.a.createElement(ne.f,{style:{fontSize:50,color:"#b4b4b4"}})):l.a.createElement("img",{style:{height:50},src:t.imageUrl,alt:""})):n.action?e.props.preview?l.a.createElement(be.a,{align:"left",padding:"none"},l.a.createElement("div",{className:a.actionButtons},l.a.createElement(Ae.a,{color:"primary",onClick:function(){return e.onPreviewClick(t.type,t.name,t.imageUrl)}},l.a.createElement(Le.a,{fontSize:"small"})),l.a.createElement(Ae.a,{onClick:function(){return e.onEditClick(t.id,t.name)}},l.a.createElement(ze.a,{fontSize:"small"})),l.a.createElement(Ae.a,{onClick:function(){return e.onDeleteClick(t.id)}},l.a.createElement(Ie.a,{fontSize:"small"})))):l.a.createElement(be.a,{align:"left",padding:"none"},l.a.createElement("div",{className:a.actionButtons},l.a.createElement(Ae.a,{onClick:function(){return e.onEditClick(t.id,t.name)}},l.a.createElement(ze.a,{fontSize:"small"})),l.a.createElement(Ae.a,{onClick:function(){return e.onDeleteClick(t.id)}},l.a.createElement(Ie.a,{fontSize:"small"})))):"size"===n.id?l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},e.bytesToSize(t[n.id])):"created"===n.id?l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t[n.id])):l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},t[n.id])}))}),m>0&&l.a.createElement(Oe.a,{style:{height:49*m}},l.a.createElement(be.a,{colSpan:6}))))),l.a.createElement(ke.a,{rowsPerPageOptions:[5,10,25],component:"div",count:i.length,rowsPerPage:s,page:u,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(l.a.Component),mt=Object(w.withStyles)(function(e){return{root:{width:"100%"},table:{minWidth:1020},tableWrapper:{overflowX:"auto"},actionButtons:{display:"flex"}}})(ut),pt=a(96),ht=a.n(pt);function ft(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var gt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,i=t.orderBy,r=t.numSelected,o=t.rowCount,c=t.rows;return l.a.createElement(ye.a,null,l.a.createElement(Oe.a,null,l.a.createElement(be.a,{padding:"checkbox"},l.a.createElement(xe.a,{indeterminate:r>0&&r<o,checked:r===o,onChange:a})),c.map(function(t){return l.a.createElement(be.a,{key:t.id,align:t.numeric?"right":"left",padding:t.disablePadding?"none":"default",sortDirection:i===t.id&&n},l.a.createElement(Be.a,{title:"Sort",disableTouchListener:!t.sortable,disableFocusListener:!t.sortable,disableHoverListener:!t.sortable,placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},l.a.createElement(Fe.a,{active:!(i!==t.id||!t.sortable),direction:n,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(l.a.Component),Et=function(e){var t=e.numSelected,a=e.classes,n=e.onMoveAllClick,i=e.onDeleteAllClick,r=e.movefile;return l.a.createElement(Pe.a,{className:me()(a.root,Object(se.a)({},a.highlight,t>0))},l.a.createElement("div",{className:a.title},t>0?l.a.createElement(N.a,{color:"inherit",variant:"subtitle1"},t," selected"):l.a.createElement(N.a,{variant:"h6",id:"tableTitle"})),l.a.createElement("div",{className:a.spacer}),l.a.createElement("div",{className:a.actions},t>0?r?l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement(Be.a,{title:"Move"},l.a.createElement(Ae.a,{"aria-label":"Move",onClick:n},l.a.createElement(ne.k,null))),l.a.createElement(Be.a,{title:"Delete"},l.a.createElement(Ae.a,{"aria-label":"Delete",onClick:i},l.a.createElement(Ie.a,null)))):l.a.createElement(Be.a,{title:"Delete"},l.a.createElement(Ae.a,{"aria-label":"Delete",onClick:i},l.a.createElement(Ie.a,null))):l.a.createElement("div",null)))};Et=Object(w.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Re.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(Et);var bt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={order:"desc",orderBy:a.props.orderBy,selected:[],selectedId:"",page:0,rowsPerPage:5,openDialog:!1,dialogTitle:"No Title",dialogUrl:null,dialogType:null,dialogOption:"",selectedFileName:"",selectedFolder:a.props.selectedFolder},a.handleRequestSort=function(e,t){var n=t,l="desc";a.state.orderBy===t&&"desc"===a.state.order&&(l="asc"),a.setState({order:l,orderBy:n})},a.handleSelectAllClick=function(e){e.target.checked?a.setState({selected:a.props.data.map(function(e){return e.id})}):a.setState({selected:[]})},a.handleClick=function(e,t){var n=a.state.selected,l=n.indexOf(t),i=[];-1===l?i=i.concat(n,t):0===l?i=i.concat(n.slice(1)):l===n.length-1?i=i.concat(n.slice(0,-1)):l>0&&(i=i.concat(n.slice(0,l),n.slice(l+1))),a.setState({selected:i})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.bytesToSize=function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},a.onPreviewClick=function(e,t,n){a.setState({openDialog:!0,dialogTitle:t,dialogUrl:n,dialogType:e,dialogOption:"preview"})},a.onEditClick=function(e,t){a.setState({openDialog:!0,dialogTitle:"Edit file",selectedId:e,dialogOption:"edit",selectedFileName:t,selectedFolder:a.props.selectedFolder})},a.onDeleteClick=function(e){a.setState({openDialog:!0,dialogTitle:"Remove file",selectedId:e,dialogOption:"delete"})},a.onDeleteAllClick=function(){a.setState({openDialog:!0,dialogOption:"deleteAll",dialogTitle:"Remove file"})},a.onMoveAllClick=function(){a.setState({openDialog:!0,dialogOption:"moveAll",dialogTitle:"Move file",selectedFolder:a.props.selectedFolder})},a.handleClose=function(){a.setState({openDialog:!1})},a._handleEditFileNameChange=function(e){a.setState({selectedFileName:e.target.value})},a.handleSelectionChange=function(e){a.setState({selectedFolder:e.target.value})},a.handleEditFile=function(){C.a.database().ref().child("/media/"+a.state.selectedId).update({name:a.state.selectedFileName,folder:a.state.selectedFolder}),a.state.selectedFolder!==a.props.selectedFolder&&("default"!==a.state.selectedFolder&&C.a.database().ref().child("/media_folder/"+a.state.selectedFolder).child("total").transaction(function(e){return e+1}),C.a.database().ref().child("/media_folder/"+a.props.selectedFolder).child("total").transaction(function(e){return e-1})),a.setState({openDialog:!1,selectedFolder:a.props.selectedFolder,selectedFileName:"",selected:[]})},a.handleRemoveFile=function(){C.a.database().ref(a.props.dataName).child(a.state.selectedId).once("value",function(e){var t=e.val();C.a.database().ref(a.props.dataName).child(a.state.selectedId).remove().then(function(){C.a.storage().ref().child(t.fullPath).delete()})}),a.setState({openDialog:!1,selectedId:"",selected:[]})},a.handleRemoveAllFile=function(){a.state.selected.forEach(function(e){C.a.database().ref(a.props.dataName).child(e).once("value",function(t){var n=t.val();C.a.database().ref(a.props.dataName).child(e).remove().then(function(){C.a.storage().ref().child(n.fullPath).delete()})})}),a.setState({openDialog:!1,selected:[]})},a.handleMoveAllFile=function(){a.state.selectedFolder!==a.props.selectedFolder&&a.state.selected.forEach(function(e){C.a.database().ref().child("/media/"+e).update({folder:a.state.selectedFolder}),"default"!==a.state.selectedFolder&&C.a.database().ref().child("/media_folder/"+a.state.selectedFolder).child("total").transaction(function(e){return e+1}),C.a.database().ref().child("/media_folder/"+a.props.selectedFolder).child("total").transaction(function(e){return e-1})}),a.setState({openDialog:!1,selectedFolder:"default",selected:[]})},a.renderDialog=function(){return"preview"===a.state.dialogOption?l.a.createElement(Ge.a,null,"video/mp4"===a.state.dialogType?l.a.createElement("video",{style:{width:"100%"},autoPlay:!0,src:a.state.dialogUrl,type:"video/mp4"}):l.a.createElement("img",{style:{width:"100%"},src:a.state.dialogUrl})):"edit"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(j.a,{margin:"dense",id:"name",label:"File Name",fullWidth:!0,value:a.state.selectedFileName,onChange:a._handleEditFileNameChange}),l.a.createElement(Qe.a,{style:{marginTop:20},fullWidth:!0,variant:"outlined",noValidate:!0,autoComplete:"off"},l.a.createElement(tt.a,{ref:function(e){a.InputLabelRef=e},htmlFor:"outlined-age-simple"},"Folder"),l.a.createElement(nt.a,{value:a.state.selectedFolder,onChange:a.handleSelectionChange,input:l.a.createElement(it.a,{labelWidth:100,name:"folder",id:"outlined-age-simple"})},l.a.createElement(ot.a,{value:"default"},l.a.createElement("em",null,"Default")),a.props.folderCollection.map(function(e){return l.a.createElement(ot.a,{key:e.id,value:e.id},e.name)})))),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleEditFile,color:"primary"},"Submit"),l.a.createElement(D.a,{onClick:a.handleClose,color:"default"},"Cancel"))):"delete"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(Xe.a,{id:"alert-dialog-description"},"Are you sure you want to permanently delete these file?")),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleRemoveFile,color:"default"},"Yes"),l.a.createElement(D.a,{color:"primary",onClick:a.handleClose},"No"))):"deleteAll"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(Xe.a,{id:"alert-dialog-description"},"Are you sure you want to permanently delete these file?")),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleRemoveAllFile,color:"default"},"Yes"),l.a.createElement(D.a,{color:"primary",onClick:a.handleClose},"No"))):"moveAll"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,{style:{width:200}},l.a.createElement(Qe.a,{style:{marginTop:20},fullWidth:!0,variant:"outlined",noValidate:!0,autoComplete:"off"},l.a.createElement(tt.a,{ref:function(e){a.InputLabelRef=e},htmlFor:"outlined-age-simple"},"Folder"),l.a.createElement(nt.a,{value:a.state.selectedFolder,onChange:a.handleSelectionChange,input:l.a.createElement(it.a,{labelWidth:100,name:"folder",id:"outlined-age-simple"})},l.a.createElement(ot.a,{value:"default"},l.a.createElement("em",null,"Default")),a.props.folderCollection.map(function(e){return l.a.createElement(ot.a,{key:e.id,value:e.id},e.name)})))),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleMoveAllFile,color:"primary"},"Yes"),l.a.createElement(D.a,{onClick:a.handleClose,color:"primary",autoFocus:!0},"No"))):void 0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.rows,i=t.data,r=this.state,o=r.order,c=r.orderBy,d=r.selected,s=r.rowsPerPage,u=r.page,m=s-Math.min(s,i.length-u*s);return l.a.createElement("div",{className:a.root},l.a.createElement(He.a,{onClose:this.handleClose,"aria-labelledby":"customized-dialog-title",open:this.state.openDialog},l.a.createElement(qe.a,{id:"customized-dialog-title",onClose:this.handleClose},this.state.dialogTitle),this.renderDialog()),l.a.createElement(Et,{numSelected:d.length,onDeleteAllClick:this.onDeleteAllClick,onMoveAllClick:this.onMoveAllClick,movefile:this.props.movefile}),l.a.createElement("div",{className:a.tableWrapper},l.a.createElement(he.a,{className:a.table,"aria-labelledby":"tableTitle"},l.a.createElement(gt,{numSelected:d.length,order:o,orderBy:c,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:i.length,rows:n}),l.a.createElement(ge.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(i,function(e,t){return"desc"===e?function(e,a){return ft(e,a,t)}:function(e,a){return-ft(e,a,t)}}(o,c)).slice(u*s,u*s+s).map(function(t){var i=e.isSelected(t.id);return l.a.createElement(Oe.a,{hover:!0,role:"checkbox","aria-checked":i,tabIndex:-1,key:t.id,selected:i},l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},padding:"checkbox"},l.a.createElement(xe.a,{checked:i})),n.map(function(n){return n.thumbnail?l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},"video/mp4"===t.type?l.a.createElement("div",{style:{height:50}},l.a.createElement(ne.f,{style:{fontSize:50,color:"#b4b4b4"}})):l.a.createElement("img",{style:{height:50},src:t.imageUrl,alt:""})):n.action?e.props.preview?l.a.createElement(be.a,{align:"left",padding:"none"},l.a.createElement("div",{className:a.actionButtons},l.a.createElement(Ae.a,{color:"primary",onClick:function(){return e.onPreviewClick(t.type,t.name,t.imageUrl)}},l.a.createElement(Le.a,{fontSize:"small"})),l.a.createElement(Ae.a,{onClick:function(){return e.onEditClick(t.id,t.name)}},l.a.createElement(ze.a,{fontSize:"small"})),l.a.createElement(Ae.a,{onClick:function(){return e.onDeleteClick(t.id)}},l.a.createElement(Ie.a,{fontSize:"small"})))):l.a.createElement(be.a,{align:"left",padding:"none"},l.a.createElement("div",{className:a.actionButtons},l.a.createElement(Ae.a,{onClick:function(){return e.onEditClick(t.id,t.name)}},l.a.createElement(ze.a,{fontSize:"small"})),l.a.createElement(Ae.a,{onClick:function(){return e.onDeleteClick(t.id)}},l.a.createElement(Ie.a,{fontSize:"small"})))):"size"===n.id?l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},e.bytesToSize(t[n.id])):"created"===n.id?l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t[n.id])):l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},t[n.id])}))}),m>0&&l.a.createElement(Oe.a,{style:{height:49*m}},l.a.createElement(be.a,{colSpan:6}))))),l.a.createElement(ke.a,{rowsPerPageOptions:[5,10,25],component:"div",count:i.length,rowsPerPage:s,page:u,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(l.a.Component),vt=Object(w.withStyles)(function(e){return{root:{width:"100%"},table:{minWidth:1020},tableWrapper:{overflowX:"auto"},actionButtons:{display:"flex"}}})(bt);function yt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Ct=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,i=t.orderBy,r=t.numSelected,o=t.rowCount,c=t.rows;return l.a.createElement(ye.a,null,l.a.createElement(Oe.a,null,l.a.createElement(be.a,{padding:"checkbox"},l.a.createElement(xe.a,{indeterminate:r>0&&r<o,checked:r===o,onChange:a})),c.map(function(t){return l.a.createElement(be.a,{key:t.id,align:t.numeric?"right":"left",padding:t.disablePadding?"none":"default",sortDirection:i===t.id&&n},l.a.createElement(Be.a,{title:"Sort",disableTouchListener:!t.sortable,disableFocusListener:!t.sortable,disableHoverListener:!t.sortable,placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},l.a.createElement(Fe.a,{active:!(i!==t.id||!t.sortable),direction:n,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(l.a.Component),kt=function(e){var t=e.numSelected,a=e.classes,n=e.onMoveAllClick,i=e.onDeleteAllClick,r=e.movefile,o=e.onAddFolderClick;return l.a.createElement(Pe.a,{className:me()(a.root,Object(se.a)({},a.highlight,t>0))},l.a.createElement("div",{className:a.title},t>0?l.a.createElement(N.a,{color:"inherit",variant:"subtitle1"},t," selected"):l.a.createElement(N.a,{variant:"h6",id:"tableTitle"})),l.a.createElement("div",{className:a.spacer}),l.a.createElement("div",{className:a.actions},t>0?r?l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement(Be.a,{title:"Move"},l.a.createElement(Ae.a,{"aria-label":"Move",onClick:n},l.a.createElement(ne.k,null))),l.a.createElement(Be.a,{title:"Delete"},l.a.createElement(Ae.a,{"aria-label":"Delete",onClick:i},l.a.createElement(Ie.a,null)))):l.a.createElement(Be.a,{title:"Delete"},l.a.createElement(Ae.a,{"aria-label":"Delete",onClick:i},l.a.createElement(Ie.a,null))):l.a.createElement(Be.a,{title:"Add Folder"},l.a.createElement(Ae.a,{"aria-label":"Add Folder",onClick:o},l.a.createElement(ne.a,null)))))};kt=Object(w.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Re.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(kt);var St=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={order:"desc",orderBy:a.props.orderBy,selected:[],selectedId:"",page:0,rowsPerPage:5,openDialog:!1,dialogTitle:"No Title",folderId:"",folderName:"",dialogOption:"",selectedFileName:"",mediaData:[],folderCollection:[],addFolderName:""},a.handleRequestSort=function(e,t){var n=t,l="desc";a.state.orderBy===t&&"desc"===a.state.order&&(l="asc"),a.setState({order:l,orderBy:n})},a.handleSelectAllClick=function(e){e.target.checked?a.setState({selected:a.props.data.map(function(e){return e.id})}):a.setState({selected:[]})},a.handleClick=function(e,t){var n=a.state.selected,l=n.indexOf(t),i=[];-1===l?i=i.concat(n,t):0===l?i=i.concat(n.slice(1)):l===n.length-1?i=i.concat(n.slice(0,-1)):l>0&&(i=i.concat(n.slice(0,l),n.slice(l+1))),a.setState({selected:i})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.bytesToSize=function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},a.onFolderClick=function(e,t){C.a.database().ref("media").on("value",function(t){var n=[];t.forEach(function(t){var a=t.val();a.key=t.key,a.folder===e&&n.push({id:a.key,name:a.name,imageUrl:a.imageUrl,created:a.created,type:a.type,size:a.size,folder:a.folder})}),a.setState({mediaData:n})}),C.a.database().ref("media_folder").on("value",function(e){var t=[];e.forEach(function(e){var a=e.val();a.key=e.key,t.push({id:a.key,name:a.name,created:a.created,total:a.total})}),a.setState({folderCollection:t})}),a.setState({openDialog:!0,dialogTitle:t,folderId:e,folderName:t,dialogOption:"folderSelect"})},a.onAddFolderClick=function(){a.setState({openDialog:!0,dialogTitle:"Add Folder",dialogOption:"addFolder",addFolderName:""})},a.onEditClick=function(e,t){a.setState({openDialog:!0,dialogTitle:"Edit folder",selectedId:e,dialogOption:"edit",selectedFileName:t,selectedFolder:"default"})},a.onDeleteClick=function(e){a.setState({openDialog:!0,dialogTitle:"Remove folder",selectedId:e,dialogOption:"delete"})},a.onDeleteAllClick=function(){a.setState({openDialog:!0,dialogOption:"deleteAll",dialogTitle:"Remove folder"})},a.onMoveAllClick=function(){a.setState({openDialog:!0,dialogOption:"moveAll",dialogTitle:"Move file",selectedFolder:"default"})},a.handleClose=function(){a.setState({openDialog:!1})},a._handleEditFileNameChange=function(e){a.setState({selectedFileName:e.target.value})},a.handleSelectionChange=function(e){a.setState({selectedFolder:e.target.value})},a.handleEditFile=function(){C.a.database().ref().child("/media_folder/"+a.state.selectedId).update({name:a.state.selectedFileName}),a.setState({openDialog:!1,selectedFolder:"default",selectedFileName:"",selected:[]})},a.handleRemoveFile=function(){C.a.database().ref("media").once("value",function(e){e.forEach(function(e){var t=e.val();t.folder==a.state.selectedId&&C.a.database().ref("media").child(e.key).remove().then(function(){C.a.storage().ref().child(t.fullPath).delete().then(function(){})})})}),C.a.database().ref(a.props.dataName).child(a.state.selectedId).remove(),a.setState({openDialog:!1,selectedId:"",selected:[]})},a.handleRemoveAllFile=function(){a.state.selected.forEach(function(e){C.a.database().ref("media").once("value",function(t){t.forEach(function(t){var a=t.val();a.folder==e&&C.a.database().ref("media").child(t.key).remove().then(function(){C.a.storage().ref().child(a.fullPath).delete().then(function(){})})})}),C.a.database().ref(a.props.dataName).child(e).remove()}),a.setState({openDialog:!1,selected:[]})},a.handleMoveAllFile=function(){"default"!==a.state.selectedFolder&&a.state.selected.forEach(function(e){C.a.database().ref().child("/media/"+e).update({folder:a.state.selectedFolder}),C.a.database().ref().child("/media_folder/"+a.state.selectedFolder).child("total").transaction(function(e){return e+1})}),a.setState({openDialog:!1,selectedFolder:"default",selected:[]})},a._handleFolderNameChange=function(e){a.setState({addFolderName:e.target.value})},a.handleAddFolder=function(){var e=Object(b.a)(E.a.mark(function e(t){var n,l,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={name:a.state.addFolderName,created:C.a.database.ServerValue.TIMESTAMP,total:0},l=C.a.database().ref().child("media_folder").push().key,(i={})["/media_folder/"+l]=n,C.a.database().ref().update(i),a.setState({openDialog:!1,addFolderName:"",selected:[]});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.renderDialog=function(){return"folderSelect"===a.state.dialogOption?l.a.createElement(Ge.a,null,l.a.createElement(vt,{rows:[{id:"name",numeric:!1,disablePadding:!1,label:"Name",sortable:!0},{id:"imageUrl",numeric:!1,disablePadding:!1,label:"File Thumbnail",sortable:!0,thumbnail:!0},{id:"created",numeric:!1,disablePadding:!1,label:"Created by",sortable:!0},{id:"type",numeric:!1,disablePadding:!1,label:"File Type",sortable:!0},{id:"size",numeric:!1,disablePadding:!1,label:"File Size",sortable:!0},{id:"action",numeric:!1,disablePadding:!1,sortable:!1,action:!0}],data:a.state.mediaData,orderBy:"created",folderCollection:a.state.folderCollection,preview:!0,movefile:!0,dataName:"media",selectedFolder:a.state.folderId})):"edit"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(j.a,{margin:"dense",id:"name",label:"File Name",fullWidth:!0,value:a.state.selectedFileName,onChange:a._handleEditFileNameChange})),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleEditFile,color:"primary"},"Submit"),l.a.createElement(D.a,{onClick:a.handleClose,color:"default"},"Cancel"))):"delete"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(Xe.a,{id:"alert-dialog-description"},"Are you sure you want to permanently delete these folder?")),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleRemoveFile,color:"default"},"Yes"),l.a.createElement(D.a,{color:"primary",onClick:a.handleClose},"No"))):"deleteAll"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(Xe.a,{id:"alert-dialog-description"},"Are you sure you want to permanently delete these folder?")),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleRemoveAllFile,color:"default"},"Yes"),l.a.createElement(D.a,{color:"primary",onClick:a.handleClose},"No"))):"moveAll"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,{style:{width:200}},l.a.createElement(Qe.a,{style:{marginTop:20},fullWidth:!0,variant:"outlined",noValidate:!0,autoComplete:"off"},l.a.createElement(tt.a,{ref:function(e){a.InputLabelRef=e},htmlFor:"outlined-age-simple"},"Folder"),l.a.createElement(nt.a,{value:a.state.selectedFolder,onChange:a.handleSelectionChange,input:l.a.createElement(it.a,{labelWidth:100,name:"folder",id:"outlined-age-simple"})},l.a.createElement(ot.a,{value:"default"},l.a.createElement("em",null,"Default")),a.props.folderCollection.map(function(e){return l.a.createElement(ot.a,{key:e.id,value:e.id},e.name)})))),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleMoveAllFile,color:"primary"},"Yes"),l.a.createElement(D.a,{onClick:a.handleClose,color:"primary",autoFocus:!0},"No"))):"addFolder"===a.state.dialogOption?l.a.createElement("div",null,l.a.createElement(Ge.a,null,l.a.createElement(Qe.a,{fullWidth:!0,variant:"outlined",noValidate:!0,autoComplete:"off",onSubmit:a.handleAddFolder},l.a.createElement(j.a,{autoFocus:!0,margin:"dense",id:"name",label:"Folder Name",fullWidth:!0,value:a.state.addFolderName,onChange:a._handleFolderNameChange}))),l.a.createElement($e.a,null,l.a.createElement(D.a,{onClick:a.handleAddFolder,color:"primary"},"Add"),l.a.createElement(D.a,{onClick:a.handleClose,color:"default"},"Cancel"))):void 0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.rows,i=t.data,r=this.state,o=r.order,c=r.orderBy,d=r.selected,s=r.rowsPerPage,u=r.page,m=s-Math.min(s,i.length-u*s);return l.a.createElement("div",{className:a.root},l.a.createElement(He.a,{onClose:this.handleClose,"aria-labelledby":"customized-dialog-title",open:this.state.openDialog,maxWidth:"xl"},l.a.createElement(qe.a,{id:"customized-dialog-title",onClose:this.handleClose},this.state.dialogTitle),this.renderDialog()),l.a.createElement(kt,{numSelected:d.length,onDeleteAllClick:this.onDeleteAllClick,onMoveAllClick:this.onMoveAllClick,movefile:this.props.movefile,onAddFolderClick:this.onAddFolderClick}),l.a.createElement("div",{className:a.tableWrapper},l.a.createElement(he.a,{className:a.table,"aria-labelledby":"tableTitle"},l.a.createElement(Ct,{numSelected:d.length,order:o,orderBy:c,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:i.length,rows:n}),l.a.createElement(ge.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(i,function(e,t){return"desc"===e?function(e,a){return yt(e,a,t)}:function(e,a){return-yt(e,a,t)}}(o,c)).slice(u*s,u*s+s).map(function(t){var i=e.isSelected(t.id);return l.a.createElement(Oe.a,{hover:!0,role:"checkbox","aria-checked":i,tabIndex:-1,key:t.id,selected:i},l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},padding:"checkbox"},l.a.createElement(xe.a,{checked:i})),n.map(function(n){return n.thumbnail?l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},"video/mp4"===t.type?l.a.createElement("div",{style:{height:50}},l.a.createElement(ne.f,{style:{fontSize:50,color:"#b4b4b4"}})):l.a.createElement("img",{style:{height:50},src:t.imageUrl,alt:""})):n.action?l.a.createElement(be.a,{align:"left",padding:"none"},l.a.createElement("div",{className:a.actionButtons},l.a.createElement(Ae.a,{color:t.total>0?"primary":"default",disabled:!(t.total>0),onClick:function(){return e.onFolderClick(t.id,t.name)}},l.a.createElement(ht.a,{fontSize:"small"})),l.a.createElement(Ae.a,{onClick:function(){return e.onEditClick(t.id,t.name)}},l.a.createElement(ze.a,{fontSize:"small"})),l.a.createElement(Ae.a,{onClick:function(){return e.onDeleteClick(t.id)}},l.a.createElement(Ie.a,{fontSize:"small"})))):"size"===n.id?l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},e.bytesToSize(t[n.id])):"created"===n.id?l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t[n.id])):l.a.createElement(be.a,{onClick:function(a){return e.handleClick(a,t.id)},align:"left",padding:"default"},t[n.id])}))}),m>0&&l.a.createElement(Oe.a,{style:{height:49*m}},l.a.createElement(be.a,{colSpan:6}))))),l.a.createElement(ke.a,{rowsPerPageOptions:[5,10,25],component:"div",count:i.length,rowsPerPage:s,page:u,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(l.a.Component),Ot=Object(w.withStyles)(function(e){return{root:{width:"100%"},table:{minWidth:1020},tableWrapper:{overflowX:"auto"},actionButtons:{display:"flex"}}})(St),wt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={mediaData:[],folderCollection:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;C.a.database().ref("media").on("value",function(t){var a=[];t.forEach(function(e){var t=e.val();t.key=e.key,"default"===t.folder&&a.push({id:t.key,name:t.name,imageUrl:t.imageUrl,created:t.created,type:t.type,size:t.size,folder:t.folder})}),e.setState({mediaData:a})}),C.a.database().ref("media_folder").on("value",function(t){var a=[];t.forEach(function(e){var t=e.val();t.key=e.key,a.push({id:t.key,name:t.name,created:t.created,total:t.total})}),e.setState({folderCollection:a})})}},{key:"renderMediaContent",value:function(){return l.a.createElement(mt,{rows:[{id:"name",numeric:!1,disablePadding:!1,label:"Name",sortable:!0},{id:"imageUrl",numeric:!1,disablePadding:!1,label:"File Thumbnail",sortable:!0,thumbnail:!0},{id:"created",numeric:!1,disablePadding:!1,label:"Created by",sortable:!0},{id:"type",numeric:!1,disablePadding:!1,label:"File Type",sortable:!0},{id:"size",numeric:!1,disablePadding:!1,label:"File Size",sortable:!0},{id:"action",numeric:!1,disablePadding:!1,sortable:!1,action:!0}],data:this.state.mediaData,orderBy:"created",folderCollection:this.state.folderCollection,preview:!0,movefile:!0,dataName:"media"})}},{key:"renderFoldersContent",value:function(){return l.a.createElement(Ot,{rows:[{id:"name",numeric:!1,disablePadding:!1,label:"Folder Name",sortable:!0},{id:"total",numeric:!1,disablePadding:!1,label:"Total Files",sortable:!0},{id:"created",numeric:!1,disablePadding:!1,label:"Created by",sortable:!0},{id:"action",numeric:!1,disablePadding:!1,sortable:!1,action:!0}],data:this.state.folderCollection,orderBy:"created",folderCollection:this.state.folderCollection,movefile:!1,dataName:"media_folder"})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(de,null),l.a.createElement($,{panel:[{name:"Media",content:this.renderMediaContent()},{name:"Folders",content:this.renderFoldersContent()}]}))}}]),t}(n.Component),Ft=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Templates"))}}]),t}(n.Component),jt=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Campaigns"))}}]),t}(n.Component),Pt=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Networks"))}}]),t}(n.Component),Dt=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Reports"))}}]),t}(n.Component),xt=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Admin"))}}]),t}(n.Component),Nt=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,{to:"/digital-signage"})}}]),t}(n.Component),At=a(182),Tt=a.n(At),Bt=a(180),Rt=a.n(Bt),Ut=a(181),It=a.n(Ut),Mt=a(100),zt=a.n(Mt),Wt=a(117),Lt=a.n(Wt),_t=a(97),Ht=a.n(_t),Vt=a(98),qt=a.n(Vt),Yt=a(99),Gt=a.n(Yt),Kt=a(101),Xt=a.n(Kt),Zt=a(118),$t=a.n(Zt),Jt=a(119),Qt=a.n(Jt),ea=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1,appBarTitle:"Dashboard"},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.navigateScreen=function(e){0===e||k.auth().signOut()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,i=this.state.open,r=[l.a.createElement(ne.c,null),l.a.createElement(ne.l,null),l.a.createElement(ne.g,null),l.a.createElement(ne.i,null),l.a.createElement(ne.m,null),l.a.createElement(ne.b,null),l.a.createElement(ne.e,null),l.a.createElement(ne.h,null)],o=[l.a.createElement(ne.j,null),l.a.createElement(ne.d,null)];return l.a.createElement("div",{className:a.root},l.a.createElement(Rt.a,null),l.a.createElement(It.a,{position:"fixed",className:me()(a.appBar,Object(se.a)({},a.appBarShift,i))},l.a.createElement(Pe.a,{disableGutters:!i},l.a.createElement(Ae.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:me()(a.menuButton,i&&a.hide)},l.a.createElement(Ht.a,null)),l.a.createElement(N.a,{variant:"h6",color:"inherit",noWrap:!0},this.state.appBarTitle))),l.a.createElement(Tt.a,{className:a.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:a.drawerPaper}},l.a.createElement("div",{className:a.drawerHeader},l.a.createElement(Ae.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?l.a.createElement(qt.a,null):l.a.createElement(Gt.a,null))),l.a.createElement(Lt.a,null),l.a.createElement(zt.a,null,["Dashboard","Stations","Contents","Templates","Campaigns","Networks","Reports","Admin"].map(function(t,a){return l.a.createElement(Xt.a,{button:!0,component:p.b,to:"Dashboard"===t?"/digital-signage":"/digital-signage/"+t.toLowerCase(),key:t,onClick:function(){return e.setState({open:!1,appBarTitle:t})}},l.a.createElement($t.a,null,r[a]),l.a.createElement(Qt.a,{primary:l.a.createElement(N.a,{style:{fontWeight:"500",color:"#4d4c4c"}},t)}))})),l.a.createElement(Lt.a,null),l.a.createElement(zt.a,null,["Settings","Log Out"].map(function(t,a){return l.a.createElement(Xt.a,{button:!0,key:t,onClick:function(){return e.navigateScreen(a)}},l.a.createElement($t.a,null,o[a]),l.a.createElement(Qt.a,{primary:l.a.createElement(N.a,{style:{fontWeight:"500",color:"#4d4c4c"}},t)}))}))),l.a.createElement("main",{className:me()(a.content,Object(se.a)({},a.contentShift,i))},l.a.createElement("div",{className:a.drawerHeader}),this.props.components))}}]),t}(n.Component),ta=Object(w.withStyles)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(200,"px)"),marginLeft:200,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:200,flexShrink:0},drawerPaper:{width:200},drawerHeader:Object(v.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-200},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(ea),aa=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!0,authenticated:!1,user:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;k.auth().onAuthStateChanged(function(t){t?e.setState({authenticated:!0,currentUser:t,loading:!1}):e.setState({authenticated:!1,currentUser:null,loading:!1})})}},{key:"renderRoute",value:function(){return l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/digital-signage",component:W,exact:!0}),l.a.createElement(m.b,{path:"/digital-signage/stations",component:L}),l.a.createElement(m.b,{path:"/digital-signage/contents",component:wt}),l.a.createElement(m.b,{path:"/digital-signage/templates",component:Ft}),l.a.createElement(m.b,{path:"/digital-signage/campaigns",component:jt}),l.a.createElement(m.b,{path:"/digital-signage/networks",component:Pt}),l.a.createElement(m.b,{path:"/digital-signage/reports",component:Dt}),l.a.createElement(m.b,{path:"/digital-signage/admin",component:xt}),l.a.createElement(m.b,{component:Nt}))}},{key:"render",value:function(){var e=this.state,t=e.authenticated;return e.loading?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(f.a,{color:"primary"})):t?l.a.createElement(p.a,null,l.a.createElement("div",null,l.a.createElement(ta,{components:this.renderRoute()}))):l.a.createElement(p.a,null,l.a.createElement("div",null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/digital-signage",component:R,exact:!0}),l.a.createElement(m.b,{path:"/digital-signage/register",component:I}),l.a.createElement(m.b,{path:"/digital-signage/forgotpassword",component:z}),l.a.createElement(m.b,{component:Nt}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(aa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5385,1,2]]]);
//# sourceMappingURL=main.3cda5ce5.chunk.js.map